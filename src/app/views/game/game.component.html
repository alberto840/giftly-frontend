<div class="fondo-pantalla min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4">

    <div class="w-full flex justify-center">
        <img src=".//public/logo.png" alt="Logo" class="w-[150px]">
    </div>
    <div class="items-center w-[65%]">
        <p-timeline [value]="events" align="alternate" styleClass="customized-timeline">
            <ng-template pTemplate="marker" let-event>
                <span class="flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm"
                    [style]="{ 'background-color': event.color }">
                    <i [class]="event.icon"></i>
                </span>
            </ng-template>
            <ng-template pTemplate="content" let-event>
                <p-card>
                    <p-panel [header]="event.status === 'Inicio' ? '¡Empieza a ganar!' : event.status"
                        [toggleable]="true" [collapsed]="(event.status === 'Inicio')? false : true">
                        <div class="w-full">
                            <p>
                                {{ event.nombre }}
                            </p>
                            @if (event.status !== 'Inicio') {
                            <p-carousel [value]="event.type === 1 ? souvenirs : event.type === 4 ? flores : event.type === 2 ? comestibles : bebidas" [numVisible]="1" [numScroll]="1" [circular]="false">
                                <ng-template let-product #item>
                                    <div class="border border-surface rounded-border p-3">
                                        <div class="mb-4">
                                            <div class="flex justify-center relative">
                                                <img src=".//public/products/{{ product.imgUrl }}"
                                                    [alt]="product.nombre" class="align-self-center rounded-border h-[100px]" />
                                                <p-tag [value]=" '$' + product.precio"
                                                    [severity]="'success'" class="absolute"
                                                    styleClass="dark:!bg-surface-900"
                                                    [ngStyle]="{ 'left.px': 0, 'top.px': 0 }" />
                                            </div>
                                        </div>
                                        <div class="mb-4 font-medium">
                                            {{ product.nombre }}
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <p-fluid class="card flex flex-wrap gap-4">
                                                <p-inputnumber [ngModel]="getProductQuantity(product.id)"
                                                    (onInput)="onQuantityChange(product, $event.value)"
                                                    [showButtons]="true" [min]="0" inputId="stacked"
                                                    mode="decimal" />
                                            </p-fluid>
                                        </div>
                                    </div>
                                </ng-template>
                            </p-carousel>
                            }
                        </div>
                        @if (event.status === 'Inicio') {
                        <p-button label="¿Como Funciona?" [text]="true" />
                        } @else {
                        }
                    </p-panel>
                </p-card>
            </ng-template>
        </p-timeline>
    </div>
</div>
<button class="fixed bottom-6 right-6 w-[40px] h-[40px] flex items-center justify-center
    bg-secondary text-white rounded-full shadow-lg transition-all duration-300 ease-in-out hover:bg-primary
    focus:outline-none focus:ring-1 focus:ring-white focus:ring-offset-2" aria-label="Subir a la parte superior"
    (click)="onSubmit()">

    <i class="fa-solid fa-circle-arrow-right fa-xl"></i>
</button>
<div class="fixed bg-primary top-4 right-0 w-[140px] h-[60px] rounded-l-full" aria-label="Subir a la parte superior">
    <button class="fixed top-6 right-6 w-[40px] h-[40px] flex items-center justify-center
    bg-secondary text-white rounded-full shadow-lg transition-all duration-300 ease-in-out hover:bg-warning
    focus:outline-none focus:ring-1 focus:ring-white focus:ring-offset-2" aria-label="Subir a la parte superior"
        (click)="navigateToMessage()" hidden>

        <i class="fa-solid fa-user fa-lg"></i>
    </button>
    <button class="fixed top-6 right-6 w-[40px] h-[40px] flex items-center justify-center
    bg-secondary text-white rounded-full shadow-lg transition-all duration-300 ease-in-out hover:bg-warning
    focus:outline-none focus:ring-1 focus:ring-white focus:ring-offset-2" aria-label="Subir a la parte superior"
        (click)="navigateToLogin()">

        <i class="fa-solid fa-arrow-right-to-bracket fa-lg"></i>
    </button>
    <button class="fixed top-6 right-20 w-[40px] h-[40px] flex items-center justify-center
    bg-secondary text-white rounded-full shadow-lg transition-all duration-300 ease-in-out hover:bg-warning
    focus:outline-none focus:ring-1 focus:ring-white focus:ring-offset-2" aria-label="Subir a la parte superior"
        (click)="navigateToRegister()">

        <i class="fa-solid fa-user-plus fa-lg"></i>
    </button>

</div>